<div class="p-5 bg-light rounded-3 border border-2 border-primary shadow scale-up-ver-top">
    <div class="col-md-12">
        <form [formGroup]="formulario" (ngSubmit)="onSubmit()">
        <div class="container">
            <div class="d-flex align-items-center justify-content-center mb-2">
                <fa-icon style="font-size: 1.7rem; color: var(--bs-primary)" [icon]="faCircleInfo"></fa-icon>&nbsp;&nbsp;
                <h3 class="">Información de su <span class="subrayado">{{this.textoTitulo}}</span></h3>
            </div>
            <div class="row">
                <div class="col-md-6 col-xs-12">
                    <div class="card">
                        <div class="card-header header-subrayado d-flex justify-content-center align-items-center">
                            <h4 class="">Órgano</h4>
                        </div>
                        <div class="card-body">
                            <div formGroupName="organo" class="row g-3">
                                <div class="col-12">
                                <label class="form-label">Órgano</label>
                                <div class="position-relative" tabindex="0" (keydown)="onKeydown($event)">
                                    <input
                                    #organoInput
                                    type="text"
                                    class="form-control mb-2"
                                    placeholder="Escriba para filtrar..."
                                    formControlName="organo"
                                    (input)="onFiltroJuzgado($any($event.target).value)"
                                    (focus)="onFocusInput()"
                                    (blur)="onBlurDropdown()"
                                    autocomplete="off"
                                    aria-autocomplete="list"
                                    [attr.aria-expanded]="openDropdown"
                                    aria-controls="organo-list"
                                    role="combobox"
                                    />
                                    <ul id="organo-list"
                                        *ngIf="openDropdown && juzgadosFiltrados?.length"
                                        class="list-group position-absolute w-100 shadow"
                                        style="z-index:1000; max-height:260px; overflow:auto;"
                                        (mouseenter)="onListMouseEnter()"
                                        (mouseleave)="onListMouseLeave()"
                                        (mousedown)="onListMouseDown()">
                                    <li *ngFor="let item of juzgadosFiltrados; let i = index"
                                        (mouseenter)="highlight(i)"
                                        (click)="chooseJuzgado(item)"
                                        class="list-group-item list-group-item-action"
                                        [class.active]="i === highlightedIndex"
                                        role="option"
                                        [attr.aria-selected]="i === highlightedIndex">
                                        {{ item.juzgado || item }}
                                    </li>
                                    </ul>
                                </div>
                                <div class="text-danger" *ngIf="campoInvalido('organo.organo')">
                                    El órgano es obligatorio.
                                </div>
                                </div>
                                <div class="col-12">
                                <label class="form-label">Juzgado Interviniente</label>
                                <input type="text"
                                        placeholder="Juzgado Interviniente"
                                        class="form-control"
                                        formControlName="juzgadoInterviniente"
                                        [ngClass]="{'is-invalid': campoInvalido('organo.juzgadoInterviniente')}">
                                <div class="text-danger" *ngIf="campoInvalido('organo.juzgadoInterviniente')">
                                    El Juzgado Interviniente es obligatorio.
                                </div>
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Juzgado/Tribunal</label>
                                    <input type="text" placeholder="Juzgado/Tribunal" class="form-control" formControlName="juzgadoTribunal"
                                    [ngClass]="{'is-invalid': campoInvalido('organo.juzgadoTribunal')}">
                                    <div class="text-danger" *ngIf="campoInvalido('organo.juzgadoTribunal')">
                                        El Juzgado/Tribunal es obligatorio.
                                    </div>
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Dirección</label>
                                    <input type="text" placeholder="Dirección" class="form-control" formControlName="direccionJuzgado"
                                    [ngClass]="{'is-invalid': campoInvalido('organo.direccionJuzgado')}">
                                    <div class="text-danger" *ngIf="campoInvalido('organo.direccionJuzgado')">
                                        La dirección es obligatoria.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-xs-12">
                    <div class="card">
                        <div class="card-header d-flex justify-content-center align-items-center">
                            <h4 class="">Domicilio del <span class="subrayado">Requerido</span></h4>
                        </div>
                        <div class="card-body domicilio-requerido">
                            <div formGroupName="domicilioRequerido" class="row g-3">
                                <div class="col-12">
                                    <label class="form-label">Localidad</label>
                                    <input type="text" placeholder="Localidad" class="form-control" formControlName="localidad"
                                    [ngClass]="{'is-invalid': campoInvalido('domicilioRequerido.localidad')}">
                                    <div class="text-danger" *ngIf="campoInvalido('domicilioRequerido.localidad')">
                                        La localidad es obligatoria.
                                    </div>
                                </div>
                    
                                <div class="col-12">
                                    <label class="form-label">Domicilio</label>
                                    <input type="text" placeholder="Domicilio" class="form-control" formControlName="domicilio"
                                    [ngClass]="{'is-invalid': campoInvalido('domicilioRequerido.domicilio')}">
                                    <div class="text-danger" *ngIf="campoInvalido('domicilioRequerido.domicilio')">
                                        El domicilio es obligatorio.
                                    </div>
                                </div>
                    
                                <div class="col-md-6">
                                    <label class="form-label">Nro</label>
                                    <input type="text" placeholder="Nro" class="form-control" formControlName="nro"
                                    [ngClass]="{'is-invalid': campoInvalido('domicilioRequerido.nro')}">
                                    <div class="text-danger" *ngIf="campoInvalido('domicilioRequerido.nro')">
                                        Ingrese un número válido o "S/N".
                                    </div>
                                </div>
                    
                                <div class="col-md-6">
                                    <label class="form-label">Piso</label>
                                    <input type="number" placeholder="Piso" class="form-control" formControlName="piso" min="0" max="99" 
                                    [ngClass]="{'is-invalid': campoInvalido('domicilioRequerido.piso')}">
                                    <div class="text-danger" *ngIf="campoInvalido('domicilioRequerido.piso')">
                                        El piso debe estar entre 0 y 99.
                                    </div>
                                </div>
                    
                                <div class="col-md-6">
                                    <label class="form-label">Depto</label>
                                    <input type="text" placeholder="Depto" class="form-control" formControlName="depto"
                                    [ngClass]="{'is-invalid': campoInvalido('domicilioRequerido.depto')}">
                                    <div class="text-danger" *ngIf="campoInvalido('domicilioRequerido.depto')">
                                        El departamento no es obligatorio.
                                    </div>
                                </div>
                    
                                <div class="col-md-6">
                                    <label class="form-label">Unidad</label>
                                    <input type="text" placeholder="Unidad" class="form-control" formControlName="unidad">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6 col-xs-12">
                    <div class="card">
                        <div class="card-header header-subrayado d-flex justify-content-center align-items-center">
                            <h4 class="">Expediente</h4>
                        </div>
                        <div class="card-body">
                            <div formGroupName="expediente" class="row g-3">
                                <div class="col-12">
                                    <label class="form-label">Tipo de diligencia</label>
                                    <input type="text" placeholder="Tipo de diligencia" class="form-control" formControlName="tipoDiligencia"
                                    [ngClass]="{'is-invalid': campoInvalido('expediente.tipoDiligencia')}">
                                    <div class="text-danger" *ngIf="campoInvalido('expediente.tipoDiligencia')">
                                        El Tipo de diligencia es obligatorio.
                                    </div>
                                </div>
                    
                                <div class="col-12">
                                    <label class="form-label">Carátula del expediente</label>
                                    <input type="text" placeholder="Carátula del expediente" class="form-control" formControlName="caratulaExpediente"
                                    [ngClass]="{'is-invalid': campoInvalido('expediente.caratulaExpediente')}">
                                    <div class="text-danger" *ngIf="campoInvalido('expediente.caratulaExpediente')">
                                        La Carátula del expediente es obligatoria.
                                    </div>
                                </div>
                    
                                <div class="col-md-12">
                                    <div class="form-check form-switch mt-3">
                                        <label class="form-check-label" for="copiasTraslado">Copias para traslado</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="copiasTraslado" formControlName="copiasTraslado">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-xs-12">
                    <div class="card">
                        <div class="card-header header-subrayado d-flex justify-content-center align-items-center">
                            <h4 class="">Carácter</h4>
                        </div>
                        <div class="card-body">
                            <div formGroupName="caracter" class="row g-3">
                                <div class="col-md-6">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="urgente">Urgente</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="urgente" formControlName="urgente" >
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="habilitacionDiaHora">Y/o habilitacion de dia y hora</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="habilitacionDiaHora" formControlName="habilitacionDiaHora" >
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="bajoResponsabilidad">Bajo responsabilidad</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="bajoResponsabilidad" formControlName="bajoResponsabilidad" >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header header-subrayado d-flex justify-content-center align-items-center">
                            <h4 class="">Tipo de Domicilio</h4>
                        </div>
                        <div class="card-body">
                            <div formGroupName="tipoDomicilio" class="row g-3">
                                <div class="col-md-6">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="denunciado">Denunciado</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="denunciado" formControlName="denunciado">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="constituido">Constituido</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="constituido" formControlName="constituido">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-12 col-xs-12">
                    <div class="card">
                        <div class="card-header header-subrayado d-flex justify-content-center align-items-center">
                            <h4 class="">Facultades y atribuciones</h4>
                        </div>
                        <div class="card-body">
                            <div formGroupName="facultadesAtribuciones" class="row g-3">
                                <div class="col-md-3">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="allanamiento">Allanamiento</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="allanamiento" formControlName="allanamiento">
                                        </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="allanamientoDomicilioSinOcupantes">Allanamiento en domicilio sin ocupantes</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="allanamientoDomicilioSinOcupantes" formControlName="allanamientoDomicilioSinOcupantes">
                                        </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="auxilioFuerzaPublica">Con auxilio de la fuerza pública</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="auxilioFuerzaPublica" formControlName="auxilioFuerzaPublica">
                                        </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="conCerrajero">Con cerrajero</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="conCerrajero" formControlName="conCerrajero" >
                                        </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="denunciaOtroDomicilio">Denuncia de otro domicilio</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="denunciaOtroDomicilio" formControlName="denunciaOtroDomicilio" >
                                        </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="denunciaBienes">Denuncia de bienes</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="denunciaBienes" formControlName="denunciaBienes" >
                                        </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-check form-switch">
                                        <label class="form-check-label" for="otros">Otros</label>
                                        <input class="form-check-input" type="checkbox" role="switch" id="otros" formControlName="otros" >
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-12 col-xs-12">
                    <div class="card">
                        <div class="card-header header-subrayado d-flex justify-content-center align-items-center">
                            <h4>Contenido de su <span class="subrayado">{{this.tipoSalida == 1 ? 'Cédula' : 'Mandamiento'}}</span></h4>
                        </div>
                        <div class="card-body fs-5 lh-5" style="text-align: justify;" id="editable-text" formGroupName="textoContenido">
                            El Oficial de Justicia de la zona que corresponda, se constituirá, para la ejecución del presente en el domicilio de 
                            <span 
                            class="editable"
                            contenteditable="true"
                            contenteditableModel
                            formControlName="requerido"
                            appPreventEnter>
                            </span>
                            sito en calle y procederá a intimar para que de pago en el acto de serle requerida la suma de 
                            <span 
                            class="editable"
                            contenteditable="true"
                            contenteditableModel
                            formControlName="montoCapitalTexto"
                            appPreventEnter>
                            </span>
                            <span 
                            class="editable"
                            contenteditable="true"
                            contenteditableModel
                            formControlName="montoCapitalNumerico"
                            appPreventEnter>
                            </span>
                            en concepto de capital, más la de 
                            <span 
                            class="editable"
                            contenteditable="true"
                            contenteditableModel
                            formControlName="montoInteresesTexto"
                            appPreventEnter>
                            </span>
                            <span 
                            class="editable"
                            contenteditable="true"
                            contenteditableModel
                            formControlName="montoInteresesNumerico"
                            appPreventEnter>
                            </span>
                            que el Juzgado presupuesto “prima facie” para responder intereses y costas de la ejecución. En caso de dar resultado negativo la intimación de pago, ello importará la citación a los ejecutados para oponer excepciones legítimas dentro del plazo de cinco días, bajo apercibimiento de llevarse adelante la ejecución (art. 540 CPC), como asimismo el requerimiento para que dentro de dicho plazo constituya domicilio legal bajo apercibimiento de tenerlo por constituido en los Estrados del Juzgado en los términos del art. 41 del Código Citado.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    </div>
</div>
<button class="btn btn-primary btn-generar-flotante" type="submit" (click)="onSubmit()">
  Generar <span class="fw-bold">{{ this.tipoSalida == 1 ? 'Cédula' : 'Mandamiento' }}</span>
</button>